# Traefik Configuration File
# This configuration provides secure defaults and automatic HTTPS with Let's Encrypt

# Global Configuration
global:
  checkNewVersion: true
  sendAnonymousUsage: false

# API Configuration (disabled for security)
api:
  dashboard: false
  insecure: false

# Entrypoints Configuration
entryPoints:
  web:
    address: ":80"
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ":443"

# Providers Configuration
providers:
  docker:
    exposedByDefault: false
    network: ${DOCKER_NETWORK}
  file:
    directory: /etc/traefik/dynamic
    watch: true

# Certificates Configuration
certificatesResolvers:
  letsencrypt:
    acme:
      email: ${TRAEFIK_EMAIL}
      storage: /etc/traefik/acme.json
      httpChallenge:
        entryPoint: web

# Logs Configuration
log:
  level: INFO
  format: common

# Access Log Configuration
accessLog:
  format: common
  fields:
    defaultMode: keep
    names:
      ClientUsername: drop
      ClientHost: keep
      ClientPort: drop
      ClientAddr: keep
      DownstreamAddr: keep
      DownstreamHost: keep
      DownstreamPort: drop
      Duration: keep
      OriginDuration: keep
      Overhead: keep
      RequestAddr: keep
      RequestContentSize: keep
      RequestHost: keep
      RequestMethod: keep
      RequestPath: keep
      RequestPort: drop
      RequestProtocol: keep
      RequestScheme: keep
      ResponseContentSize: keep
      ResponseStatus: keep
      ResponseTime: keep
      RetryAttempts: keep
      StartUTC: keep
      StartLocal: keep
      TLSClientIssuer: keep
      TLSClientSubject: keep
      TLSVersion: keep
      TLSCipher: keep
      TLSServerName: keep
      UpstreamAddr: keep
      UpstreamHost: keep
      UpstreamPort: drop 